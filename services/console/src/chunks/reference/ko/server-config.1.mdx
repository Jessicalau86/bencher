Bencher API 서버는 시작할 때 JSON 구성이 필요합니다.
구성은 세 가지 방법으로 제공할 수 있습니다:
- `BENCHER_CONFIG` 환경 변수: 값은 JSON 구성으로 설정되어야 합니다.
- `BENCHER_CONFIG_PATH` 환경 변수: 값은 JSON 구성이 포함된 파일의 경로로 설정되어야 합니다.
- 서버 실행 파일에 상대적인 `./bencher.json`에 위치한 JSON 구성이 포함된 파일

구성이 찾아지지 않을 경우 기본 구성이 로드됩니다.

서버가 실행 중일 때 구성을 업데이트하려면
관리자는 CLI `bencher server config update` 명령을 사용할 수 있습니다
이 명령은 [PUT `/v0/server/config`](/docs/reference/api) 경로를 사용합니다.
모든 업데이트된 구성은 `BENCHER_CONFIG` 환경 변수에 저장되며
디스크의 `BENCHER_CONFIG_PATH`에도 저장됩니다.

JSON 구성 예:

코드 블록 생략...

## `console`

| 이름  |              예              |       기본값        | 필수 |                 설명                   |
| :--: | :-------------------------: | :---------------: | :--: | :-------------------------------: |
|  url  | "https://bencher.example.com" | "http://localhost:3000" |  예  | Bencher UI 콘솔 호스트의 URL을 지정합니다. |

## `security`

|  이름  |                      예                      |     기본값      | 필수 |                                            설명                                            |
| :----: | :----------------------------------------: | :-----------: | :--: | :------------------------------------------------------------------------------------: |
| issuer |       "https://api.bencher.example.com"      | "bencher.dev" |  아니오  | JWT(Jason Web Token) 발행자를 지정합니다. **경고** 이 값을 변경하면 이전에 생성된 모든 JWT가 더 이상 유효하지 않습니다. |
| secret_key | "UJu7Cpxb-zFaJYqXD-3mDDSDyj-ZvfxZFZs-X58xjxPy" | 랜덤 UUID v4 |  예  | 모든 토큰을 생성하는 데 사용되는 키를 지정합니다. **매우 안전해야 합니다!** 기본값은 랜덤하게 생성된 [UUID v4](https://ko.wikipedia.org/wiki/%EC%9C%A0%EB%8B%88%EB%B2%84%EC%84%9C_%EA%B3%A0%EC%9C%A0_%EC%8B%9D%EB%B3%84%EC%9E%90#Version_4_.28random.29)입니다. 로그에 기록될 때 '************'로 가려집니다. |

# `server`

이 섹션은 [Dropshot 서버 구성](https://github.com/oxidecomputer/dropshot/tree/v0.9.0#dropshot-servers)을 기반으로 합니다.

|          이름          |       예       |     기본값     |          필수           |                                                                                                                                               설명                                                                                                                                                |
| :--------------------: | :-----------------: | :-------------: | :-------------------------: | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
|      bind_address      |   "0.0.0.0:61016"   | "0.0.0.0:61016" |             예             |                                               서버가 주어진 IP 주소와 TCP 포트에 바인딩해야 함을 지정합니다. 일반적으로 서버는 하나 이상의 IP 주소와 포트에 바인딩할 수 있지만, 이는 (아직?) 지원되지 않습니다. 기본값은 "127.0.0.1:0"입니다.                                                |
| request_body_max_bytes |       1048576       |     1048576     |             예             |                                                                                      요청 본문에서 허용되는 바이트 수의 최대값을 지정합니다. 더 큰 요청은 400 오류를 받게 됩니다. 기본값은 1024입니다.                                                                                       |
|        tls.type        |      "as_file"      |       ---       |             아니오             |                                                                                           TLS 인증서 및 키 정보가 어떻게 제공되는지 지정합니다. 유효한 값에는 "as_file"과 "as_bytes"가 포함됩니다.                                                                                           |
|     tls.cert_file      | "/path/to/cert.pem" |       ---       | tls.type = as_file인 경우에만  | 서버가 자신을 식별하기 위한 인증서 체인이 포함된 PEM 파일 경로를 지정합니다. 첫번째 인증서는 최종 사용자 인증서이며, 나머지는 신뢰할 수 있는 CA에 도달하기 위한 중간 인증서입니다. 설정될 경우, 서버는 TLS 연결만 수신합니다. |
|      tls.key_file      | "/path/to/key.pem"  |       ---       | tls.type = as_file인 경우에만  |                                                                     서버가 사용할 개인 키가 포함된 PEM 인코딩 PKCS #8 파일 경로를 지정합니다. 설정될 경우, 서버는 TLS 연결만 수신합니다.                                                                      |
|       tls.certs        |         ---         |       ---       | tls.type = as_bytes인 경우에만 |                                                                                                        tls.cert_file과 동일하지만, 인증서 데이터의 바이트 배열로 제공됩니다.                                                                                                            |
|        tls.key         |         ---         |       ---       | tls.type = as_bytes인 경우에만 |                                                                                                               tls.key_file과 동일하지만, 키 데이터의 바이트 배열로 제공됩니다.                                                                                                                 |